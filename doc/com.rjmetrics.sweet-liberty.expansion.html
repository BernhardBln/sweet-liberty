<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>com.rjmetrics.sweet-liberty.expansion documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Sweet-liberty 0.1.0-OPEN-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="com.rjmetrics.sweet-liberty.core.html"><span>com.rjmetrics.sweet-liberty.core</span></a></li><li><a href="com.rjmetrics.sweet-liberty.db.html"><span>com.rjmetrics.sweet-liberty.db</span></a></li><li class="current"><a href="com.rjmetrics.sweet-liberty.expansion.html"><span>com.rjmetrics.sweet-liberty.expansion</span></a></li><li><a href="com.rjmetrics.sweet-liberty.handlers.html"><span>com.rjmetrics.sweet-liberty.handlers</span></a></li><li><a href="com.rjmetrics.sweet-liberty.process.html"><span>com.rjmetrics.sweet-liberty.process</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html"><span>com.rjmetrics.sweet-liberty.query</span></a></li><li><a href="com.rjmetrics.sweet-liberty.request-interpretation.html"><span>com.rjmetrics.sweet-liberty.request-interpretation</span></a></li><li><a href="com.rjmetrics.sweet-liberty.util.html"><span>com.rjmetrics.sweet-liberty.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="com.rjmetrics.sweet-liberty.expansion.html#var-build-expansion-filters"><span>build-expansion-filters</span></a></li><li><a href="com.rjmetrics.sweet-liberty.expansion.html#var-expand-all-resources"><span>expand-all-resources</span></a></li><li><a href="com.rjmetrics.sweet-liberty.expansion.html#var-get-expansions"><span>get-expansions</span></a></li><li><a href="com.rjmetrics.sweet-liberty.expansion.html#var-get-resource-result"><span>get-resource-result</span></a></li><li><a href="com.rjmetrics.sweet-liberty.expansion.html#var-merge-expanded-resources"><span>merge-expanded-resources</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>com.rjmetrics.sweet-liberty.expansion documentation</h2><pre class="doc"></pre><div class="public" id="var-build-expansion-filters"><h3>build-expansion-filters</h3><div class="usage"><code>(build-expansion-filters results [result-key filter-key])</code></div><pre class="doc">Extract the values for the expansion filter keyed by the resource we're expanding
to's attribute name. Ex:
(build-expansion-filters [{:id 5} {:id 8}] {:id :table-id}) =&gt; {:table-id [5 8]}</pre></div><div class="public" id="var-expand-all-resources"><h3>expand-all-resources</h3><div class="usage"><code>(expand-all-resources service-broker route-params expand-query-param table-struct all-headers results)</code></div><pre class="doc">Get all of the expansions in a result and merge them together. If no service broker
is given, it will hand back the results without any transformation.</pre></div><div class="public" id="var-get-expansions"><h3>get-expansions</h3><div class="usage"><code>(get-expansions service-broker expansion-resources route-params expansion-info all-headers results)</code></div><pre class="doc">Pass in the list of resource names to be expanded on, along with query params
that will be passed to each expansion. The current results are required to
correctly filter the expansions by only requesting that subset instead of
all of them</pre></div><div class="public" id="var-get-resource-result"><h3>get-resource-result</h3><div class="usage"><code>(get-resource-result service-broker resource-name action route-params headers filter-map)</code></div><pre class="doc">Extract the body of call-resource and parse it into a map
</pre></div><div class="public" id="var-merge-expanded-resources"><h3>merge-expanded-resources</h3><div class="usage"><code>(merge-expanded-resources remote-resources expansion-config result-item)</code></div><pre class="doc">Takes the collection of resources, the resources to be merged in
and the configuration for the expansions to be performed. Returns
a collection of resources with the expanded resources nested
inside appropriately.</pre></div></div></body></html>