<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>com.rjmetrics.sweet-liberty.query documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Sweet-liberty 0.1.0-OPEN-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="com.rjmetrics.sweet-liberty.core.html"><span>com.rjmetrics.sweet-liberty.core</span></a></li><li><a href="com.rjmetrics.sweet-liberty.db.html"><span>com.rjmetrics.sweet-liberty.db</span></a></li><li><a href="com.rjmetrics.sweet-liberty.expansion.html"><span>com.rjmetrics.sweet-liberty.expansion</span></a></li><li><a href="com.rjmetrics.sweet-liberty.handlers.html"><span>com.rjmetrics.sweet-liberty.handlers</span></a></li><li><a href="com.rjmetrics.sweet-liberty.process.html"><span>com.rjmetrics.sweet-liberty.process</span></a></li><li class="current"><a href="com.rjmetrics.sweet-liberty.query.html"><span>com.rjmetrics.sweet-liberty.query</span></a></li><li><a href="com.rjmetrics.sweet-liberty.request-interpretation.html"><span>com.rjmetrics.sweet-liberty.request-interpretation</span></a></li><li><a href="com.rjmetrics.sweet-liberty.util.html"><span>com.rjmetrics.sweet-liberty.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="com.rjmetrics.sweet-liberty.query.html#var-build-delete-statement"><span>build-delete-statement</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-build-paging-query"><span>build-paging-query</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-build-update-statement"><span>build-update-statement</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-build-where-vector"><span>build-where-vector</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-create-default-h-sql-map"><span>create-default-h-sql-map</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-create-h-sql-where-vector"><span>create-h-sql-where-vector</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-get-filter-map"><span>get-filter-map</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-set-field-list"><span>set-field-list</span></a></li><li><a href="com.rjmetrics.sweet-liberty.query.html#var-set-where-list"><span>set-where-list</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>com.rjmetrics.sweet-liberty.query documentation</h2><pre class="doc"></pre><div class="public" id="var-build-delete-statement"><h3>build-delete-statement</h3><div class="usage"><code>(build-delete-statement table-struct params column-name)</code><code>(build-delete-statement dialect table-struct params column-name)</code></div><pre class="doc"></pre></div><div class="public" id="var-build-paging-query"><h3>build-paging-query</h3><div class="usage"><code>(build-paging-query table-struct query-params)</code><code>(build-paging-query dialect table-struct query-params)</code></div><pre class="doc">Build a query with the specific paging properties
</pre></div><div class="public" id="var-build-update-statement"><h3>build-update-statement</h3><div class="usage"><code>(build-update-statement table-struct params column-name data)</code><code>(build-update-statement dialect table-struct params column-name data)</code></div><pre class="doc"></pre></div><div class="public" id="var-build-where-vector"><h3>build-where-vector</h3><div class="usage"><code>(build-where-vector filter-map)</code></div><pre class="doc">Returns a Honey-Sql where Vector given a filter-map.
(build-where-vector {:column-name [value1, value2] :another-column value})
returns [:and[:in :column-name value1 value2][:= :another-column value]]</pre></div><div class="public" id="var-create-default-h-sql-map"><h3>create-default-h-sql-map</h3><div class="usage"><code>(create-default-h-sql-map table-struct)</code></div><pre class="doc">Returns default Honey-Sql query Map with the :select and :from keys set to the proper attributes
and table-name from the Sweet-Liberty table-name and table-struct config values.
(create-default-h-sql-map :table-name) returns {:select [:*] :from [:table-name]}</pre></div><div class="public" id="var-create-h-sql-where-vector"><h3>create-h-sql-where-vector</h3><div class="usage"><code>(create-h-sql-where-vector [col-name value])</code></div><pre class="doc">Returns a Honey-Sql where Vector given a key, value pair of a filter-map.
(create-h-sql-where-vector [&quot;column-name&quot; 1]) returns [:= :another-column 1]
(create-h-sql-where-vector [&quot;column-name&quot; [2 3]]) returns [:in :another-column [2 3]]</pre></div><div class="public" id="var-get-filter-map"><h3>get-filter-map</h3><div class="usage"><code>(get-filter-map query-params table-struct)</code></div><pre class="doc">Returns the filters from the query params Map as a Map of keyword fields to values.
(:attributes table-struct) acts as a whitelist for which items to take.
(get-filter-map {:columnA value1 :_fields [&quot;name&quot;]'} returns {:columnA value1}</pre></div><div class="public" id="var-set-field-list"><h3>set-field-list</h3><div class="usage"><code>(set-field-list h-sql-map field-list)</code></div><pre class="doc">Returns a Honey-Sql Map with the select field correctly populated.
(set-field-list h-sql-map [:field1 :field2 :field3] returns {:select [:field1 :field2 :field3]...}</pre></div><div class="public" id="var-set-where-list"><h3>set-where-list</h3><div class="usage"><code>(set-where-list h-sql-map filter-list)</code></div><pre class="doc">Returns a Honey-Sql Map with the where key correctly populated from a filter-map.
(set-where-list h-sql-map {:column-name value :another-column a-value} returns
{...:where [:and [:= :column-name value][:= :another-column a-value]]}</pre></div></div></body></html>